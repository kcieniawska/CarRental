{% extends "base.html.jinja" %}
{% load static %}
{% block title %}Kontakt{% endblock %}


{% block content %}
<section class="contact">
    <div class="content-wrapper">
        <h2>Skontaktuj się z nami</h2>
        <img style="width: 50%"src="{% static 'images/PRC-banner.png' %}" alt="Opis zdjęcia">
        <!-- Sekcja formularza -->
        <div class="contact-form">
            <h3>Formularz kontaktowy</h3><br>
            <form action="#" method="post">
                <div class="form-group">
                    <label for="name">Imię i nazwisko:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="message">Wiadomość:</label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-btn">Wyślij wiadomość</button>
            </form>
        </div>

        <!-- Sekcja danych kontaktowych -->

            
            <!-- Dane kontaktowe -->
            <div class="contact-wrapper">
                <!-- Sekcja danych kontaktowych właściciela -->
                <div class="why-choose">
                    <div class="contact-photo" style="background-image: url('{% static 'images/contact-photo.png' %}');"></div>
                    <div class="contact-details">
                        <h3>Karolina Cieniawska</h3>
                        <p>Autor strony, właściciel <strong>PapayaRentCar</strong></p>
                        <p><strong>Telefon:</strong> +48 123 456 789</p>
                        <p><strong>Email:</strong> <a style="text-decoration: none; color: #333;"href="mailto:14690@eans-nt.edu.pl">14690@eans-nt.edu.pl</a></p>
                    </div>
                </div>
            
                <!-- Sekcja danych firmy -->
                <div class="why-choose">
                    <div class="company-photo" style="background-image: url('{% static 'images/prc.png' %}');"></div>
                    <div class="contact-details">
                        <h3>PapayaRentCar</h3>
                        <p><strong>Telefon:</strong> +48 123 456 789</p>
                        <p><strong>Email:</strong> example@example.com</p>
                        <p><strong>Adres:</strong> ul. Kokoszków 71, 34-400 Nowy Targ</p>
                    </div>
                </div>
            </div>
            
        <!-- Sekcja mapy -->
        <div class="contact-map">
            <h3>Odnajdź nas</h3>
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2591.7179947994796!2d20.043446011817274!3d49.489833771305555!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4715e4bdf2adc5b1%3A0x6e7d178e2e7fc87e!2sAkademia%20Nauk%20Stosowanych%20w%20Nowym%20Targu!5e0!3m2!1spl!2spl!4v1744748533072!5m2!1spl!2spl" 
            width="1000" height="500" 
            style="border:0;" allowfullscreen="" loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
        
        
        
    </div>
</section>
{% endblock %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const form = document.querySelector('.contact-form form');
        const nameInput = document.getElementById('name');
        const emailInput = document.getElementById('email');
        const messageInput = document.getElementById('message');
    
        form.addEventListener('submit', function (event) {
            let isValid = true;
            clearErrors();
    
            if (nameInput.value.trim() === '') {
                showError(nameInput, 'Podaj swoje imię i nazwisko.');
                isValid = false;
            }
    
            if (!validateEmail(emailInput.value)) {
                showError(emailInput, 'Podaj poprawny adres e-mail.');
                isValid = false;
            }
    
            if (messageInput.value.trim().length < 10) {
                showError(messageInput, 'Wiadomość musi zawierać co najmniej 10 znaków.');
                isValid = false;
            }
    
            if (!isValid) {
                event.preventDefault(); // Blokuje wysyłkę formularza
            }
        });
    
        function showError(input, message) {
            const error = document.createElement('small');
            error.classList.add('error-message');
            error.innerText = message;
            input.parentElement.appendChild(error);
        }
    
        function clearErrors() {
            const errors = document.querySelectorAll('.error-message');
            errors.forEach(e => e.remove());
        }
    
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
    });
    </script>
